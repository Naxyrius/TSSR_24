# Tutoriel : Déployer un certificat Let's Encrypt

Dans ce tutoriel, nous allons explorer deux méthodes pour déployer un certificat SSL/TLS gratuit avec Let's Encrypt : 
1. **Méthode automatique** (via Certbot).
2. **Challenge DNS manuel** (via Certbot).

---

## Prérequis

- Un serveur Linux (Ubuntu recommandé) avec accès root ou sudoers.
- Un domaine configuré et pointant vers votre serveur.
- Certbot installé sur le système. Pour l'installation, utilisez les commandes suivantes :


---

## Méthode 1 : Déploiement Automatique

Certbot peut automatiser la génération et l'installation des certificats SSL pour des serveurs web comme Apache ou Nginx.

### Étapes :

1. **Exécuter Certbot** :
   Utilisez la commande suivante pour générer et installer automatiquement le certificat :
   ```sudo certbot --apache```
   ou 
   ```sudo certbot --nginx```
   
2. **Suivre les instructions** :
- Certbot vous demandera de sélectionner les domaines à sécuriser.
- Une fois terminé, il configurera automatiquement HTTPS sur votre serveur.

3. **Renouvellement automatique** :
Certbot configure une tâche cron pour renouveler automatiquement les certificats avant leur expiration.

### Résultat attendu :
Certificat installé et HTTPS activé. Les fichiers générés sont situés dans `/etc/letsencrypt/live/<votre_domaine>/`.

---

## Méthode 2 : Challenge DNS Manuel

Cette méthode est utile si votre serveur n'est pas accessible via HTTP ou si vous avez besoin de certificats wildcard.

### Étapes :

1. **Générer le certificat avec Certbot** :
Exécutez la commande suivante :
sudo certbot certonly --manual --preferred-challenges dns -d "votre_domaine" -d "*.votre_domaine"


2. **Créer un enregistrement DNS TXT** :
- Certbot fournira une valeur que vous devrez ajouter en tant qu'enregistrement TXT dans votre configuration DNS.
- Exemple d'enregistrement TXT :
  ```
  _acme-challenge.votre_domaine    TXT    valeur_fournie_par_certbot
  ```

3. **Valider le challenge DNS** :
Une fois l'enregistrement propagé, revenez à la console et appuyez sur **Entrée** pour que Certbot valide le domaine.

4. **Configurer le serveur avec les fichiers générés** :
Les certificats sont situés dans `/etc/letsencrypt/live/votre_domaine/`. Configurez votre serveur web pour utiliser ces fichiers.

### Commandes utiles :
Pour vérifier les certificats générés :
ls -l /etc/letsencrypt/live/votre_domaine/